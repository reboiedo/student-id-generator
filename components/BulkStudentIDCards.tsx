"use client";

import React from "react";
import {
  Document,
  Page,
  Text,
  View,
  StyleSheet,
  Image,
  Svg,
  Path,
  Font,
} from "@react-pdf/renderer";
import { Student } from "@/types/student";
import { convertStudentImageForPDF } from "@/lib/imageUtils";

// Register custom fonts (same as individual card)
Font.register({
  family: "ApercuPro",
  fonts: [
    {
      src: "/fonts/ApercuPro-Regular.ttf",
      fontWeight: "normal",
    },
    {
      src: "/fonts/ApercuPro-Medium.ttf",
      fontWeight: 500,
    },
    {
      src: "/fonts/ApercuPro-Bold.ttf",
      fontWeight: "bold",
    },
  ],
});

// Same styles as individual card
const styles = StyleSheet.create({
  page: {
    width: "54mm",
    height: "85.6mm",
    padding: 0,
  },
  cardFront: {
    width: "100%",
    height: "100%",
    backgroundColor: "#4d3f8d",
    display: "flex",
    flexDirection: "column",
    alignItems: "flex-start",
    justifyContent: "space-between",
    position: "relative",
    padding: "8 15 15 15",
  },
  cardBack: {
    width: "100%",
    height: "100%",
    backgroundColor: "#4d3f8d",
    color: "white",
    display: "flex",
    flexDirection: "column",
    alignItems: "flex-start",
    padding: 15,
  },
  photoContainer: {
    width: 130,
    height: 130,
    borderRadius: 200,
    padding: 3,
    overflow: "hidden",
    border: "2px solid white",
    position: "absolute",
    top: 57,
    right: -15,
  },
  photo: {
    width: "100%",
    height: "100%",
    borderRadius: 200,
    objectFit: "cover",
  },
  circleFront: {
    width: 230,
    height: 230,
    position: "absolute",
    bottom: -40,
    left: 0,
    backgroundColor: "#554691",
    borderRadius: 400,
    transform: "translateX(-100%)",
  },
  circleBack: {
    width: 230,
    height: 230,
    position: "absolute",
    bottom: -40,
    right: 0,
    backgroundColor: "#554691",
    borderRadius: 400,
    transform: "translateX(100%)",
  },
  studentLabel: {
    fontFamily: "ApercuPro",
    fontWeight: "bold",
    fontSize: 8,
    color: "white",
    letterSpacing: 0.4,
    marginBottom: 2,
  },
  studentName: {
    fontFamily: "ApercuPro",
    fontWeight: "medium",
    fontSize: 14,
    color: "white",
    textAlign: "left",
  },
  backContent: {
    marginTop: "auto",
  },
  infoSection: {
    marginBottom: 10,
  },
  infoLabel: {
    fontFamily: "ApercuPro",
    fontWeight: "bold",
    fontSize: 8,
    color: "white",
    marginBottom: 2,
  },
  infoText: {
    fontFamily: "ApercuPro",
    fontWeight: "normal",
    fontSize: 8,
    color: "white",
  },
  legalText: {
    fontFamily: "ApercuPro",
    fontWeight: "normal",
    fontSize: 6,
    color: "rgba(255, 255, 255, 0.6)",
    lineHeight: 1.3,
    marginTop: "auto",
  },
  contactText: {
    fontFamily: "ApercuPro",
    fontWeight: "normal",
    fontSize: 6,
    color: "white",
    marginTop: 8,
  },
});

interface BulkStudentIDCardsProps {
  students: Student[];
  imageDataUrls?: { [studentId: string]: string | null };
}

const BulkStudentIDCards: React.FC<BulkStudentIDCardsProps> = ({ students, imageDataUrls = {} }) => {
  const renderCardFront = (student: Student) => (
    <View style={styles.cardFront}>
      <Svg width="auto" height="40" viewBox="0 0 213 40" fill="none">
        <Path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M0 19.03V0.430527H3.16853V8.34038H10.8753V0.430527H14.0829V19.03H10.8753V11.1207H3.16853V19.03H0ZM16.978 19.03V17.9728L23.6285 0.430527H26.7579L33.4079 17.9728V19.03H30.2784L28.6354 14.4486H21.5939L19.9513 19.03H16.978ZM22.5721 11.786H27.6576L25.1539 4.69858L22.5721 11.786ZM36.3026 19.03V0.430527H44.2828C47.8818 0.430527 49.8769 2.54503 49.8769 6.14777C49.8769 8.61423 48.7424 10.572 46.5912 11.5121L50.0726 17.9728V19.03H46.9431L43.1093 11.8645H39.5102V19.03H36.3026ZM39.5102 9.16284H43.7351C45.691 9.16284 46.6693 8.1837 46.6693 6.18682C46.6693 4.18995 45.691 3.21081 43.7351 3.21081H39.5102V9.16284ZM53.8283 19.0691V0.430527H61.6523C64.9775 0.430527 66.9725 2.1145 66.9725 5.44293C66.9725 7.32218 66.2291 8.61423 64.7427 9.39763C66.6987 10.1025 67.6764 11.5902 67.6764 13.9005C67.6764 17.268 65.7205 19.0691 62.3562 19.0691H53.8283ZM57.0359 16.2498H61.8871C63.6473 16.2498 64.547 15.3887 64.547 13.7047C64.547 11.9427 63.6864 11.0811 61.8871 11.0811H57.0359V16.2498ZM57.0359 8.41849H61.1436C62.9039 8.41849 63.7645 7.55697 63.7645 5.79535C63.7645 4.07232 62.9039 3.21081 61.1436 3.21081H57.0359V8.41849ZM70.884 6.73497C70.884 2.58454 73.7006 0.0390553 78.1993 0.0390553C82.698 0.0390553 85.5146 2.54503 85.5146 6.73497V12.7261C85.5146 16.9155 82.698 19.4215 78.1993 19.4215C73.7006 19.4215 70.884 16.9155 70.884 12.7261V6.73497ZM82.307 6.57829C82.307 4.46379 80.8597 2.97602 78.1993 2.97602C75.5394 2.97602 74.0921 4.50285 74.0921 6.57829V12.9218C74.0921 15.0363 75.5394 16.5241 78.1993 16.5241C80.8597 16.5241 82.307 14.9968 82.307 12.9218V6.57829ZM100.262 0.430527H103.509V12.9604C103.509 14.9968 102.884 16.5631 101.593 17.6985C100.341 18.8339 98.6197 19.382 96.468 19.382C94.3163 19.382 92.5951 18.8339 91.3044 17.6985C90.0524 16.5631 89.4266 14.9577 89.4266 12.9604V0.430527H92.5951V13.1171C92.5951 15.0749 93.9643 16.4846 96.429 16.4846C98.8936 16.4846 100.262 15.0358 100.262 13.1171V0.430527ZM108.047 19.03V0.430527H116.027C119.627 0.430527 121.622 2.54503 121.622 6.14777C121.622 8.61423 120.487 10.572 118.375 11.5121L121.856 17.9728V19.03H118.727L114.893 11.8645H111.216V19.03H108.047ZM111.216 9.16284H115.442C117.397 9.16284 118.375 8.1837 118.375 6.18682C118.375 4.18995 117.397 3.21081 115.442 3.21081H111.216V9.16284ZM133.592 17.7771C132.223 16.6417 131.559 15.0754 131.559 12.9999H134.727C134.727 13.8614 134.962 14.5663 135.431 15.1144C136.37 16.2107 137.583 16.485 138.951 16.485C141.182 16.485 142.434 15.4668 142.434 14.0572C142.434 13.3914 142.16 12.8823 141.573 12.5299C140.986 12.1774 139.929 11.6688 138.405 11.0811L138.169 11.003L137.74 10.8464C135.704 10.0634 134.257 9.31906 133.396 8.61423C132.536 7.87034 132.106 6.81309 132.106 5.40342C132.106 3.79802 132.693 2.46692 133.866 1.48778C135.079 0.509098 136.722 0 138.796 0C142.981 0 145.681 1.99688 145.681 6.26493H142.511C142.511 3.91564 140.908 2.89745 138.756 2.89745C136.644 2.89745 135.313 3.83753 135.313 5.16863C135.313 5.87346 135.587 6.46067 136.135 6.77403C136.684 7.12645 137.74 7.55697 139.304 8.14464L139.695 8.26181C140.713 8.61423 141.495 8.92759 142.081 9.20189C142.708 9.47574 143.294 9.82816 143.96 10.2591C145.25 11.1202 145.836 12.2951 145.836 13.8614C145.836 17.1113 143.333 19.3434 138.796 19.3434C136.722 19.4215 135.001 18.8734 133.592 17.7771ZM149.788 19.03V0.430527H157.846C161.132 0.430527 163.089 2.6236 163.089 6.14777C163.089 9.67148 161.132 11.8645 157.846 11.8645H152.995V19.03H149.788ZM152.995 9.08427H157.298C158.746 9.08427 159.841 8.06607 159.841 6.14777C159.841 4.26806 158.746 3.21081 157.298 3.21081H152.995V9.08427ZM163.48 19.03V17.9728L170.13 0.430527H173.26L179.91 17.9728V19.03H176.78L175.138 14.4486H168.135L166.453 19.03H163.48ZM169.035 11.786H174.12L171.616 4.69858L169.035 11.786ZM182.256 12.7256V6.73452C182.256 2.46646 184.878 0.0390553 189.494 0.0390553C191.449 0.0390553 193.093 0.587208 194.384 1.64446C195.675 2.74076 196.339 4.34617 196.339 6.46067V6.73452H193.17V6.46067C193.17 5.32485 192.779 4.42428 192.036 3.87613C191.254 3.24986 190.433 2.97556 189.494 2.97556C186.795 2.97556 185.504 4.2676 185.504 6.53878V12.9604C185.504 15.2316 186.834 16.5236 189.494 16.5236C190.433 16.5236 191.254 16.2498 192.036 15.6626C192.819 15.0358 193.17 14.1743 193.17 13.039V12.7647H196.339V13.039C196.339 15.1535 195.675 16.7589 194.384 17.8552C193.093 18.9515 191.449 19.4606 189.494 19.4606C184.917 19.4215 182.256 16.9937 182.256 12.7256ZM200.33 19.03V0.430527H212.223V3.21081H203.498V8.37943H211.009V11.0421H203.498V16.2498H212.261V19.03H200.33ZM128.116 19.03C128.116 19.4606 127.764 19.8525 127.294 19.8525C126.864 19.8525 126.473 19.5001 126.473 19.03C126.473 18.5995 126.825 18.2076 127.294 18.2076C127.764 18.2471 128.116 18.5995 128.116 19.03ZM1.00579 28.0564V39.75H0.0385958V28.0564H1.00579ZM4.2143 28.0564H5.11625L11.6137 37.9457V28.0564H12.5988V39.75H11.6968L5.18149 29.8782V39.75H4.2143V28.0564ZM15.0533 35.9585H16.0233C16.0233 38.2802 17.9264 39.098 19.5635 39.098C21.5356 39.098 22.5207 38.1295 22.5207 36.893C22.5207 35.7071 21.6348 35.1231 19.8649 34.4546L18.5609 33.9699C16.4731 33.1846 15.4553 32.5501 15.4553 30.8794C15.4553 29.0751 16.8912 27.8065 19.3296 27.8065C21.6514 27.8065 23.4892 28.9423 23.4892 31.7488H22.5032C22.5032 29.5097 20.9667 28.7084 19.3135 28.7084C17.5092 28.7084 16.4225 29.5929 16.4225 30.8128C16.4225 31.9987 17.1412 32.4835 18.8123 33.0854L20.0648 33.5527C22.0534 34.2878 23.5393 35.0064 23.5393 36.8429C23.5393 38.6142 22.2193 40 19.513 40C17.2418 40 15.0533 38.7976 15.0533 35.9585ZM28.7672 28.9257H25.0763V28.0564H33.4281V28.9257H29.7372V39.75H28.7672V28.9257ZM36.4179 28.0564V39.75H35.448V28.0564H36.4179ZM42.1462 28.9257H38.4552V28.0564H46.8071V28.9257H43.1162V39.75H42.1462V28.9257ZM48.6615 35.941V28.0564H49.6287V35.941C49.6287 37.9461 50.9001 39.098 52.8538 39.098C54.7923 39.098 56.0609 37.9801 56.0609 35.941V28.0564H57.046V35.941C57.046 38.5981 55.1916 40 52.8538 40C50.4981 40 48.6615 38.6308 48.6615 35.941ZM62.591 28.9257H58.9V28.0564H67.2519V28.9257H63.5609V39.75H62.591V28.9257ZM69.2722 28.0564H76.3715V28.9257H70.2408V33.418H75.5863V34.2874H70.2408V38.8816H76.3876V39.75H69.2722V28.0564ZM82.885 35.8243V31.9826C82.885 29.3429 84.5888 27.8065 87.2785 27.8065C89.9504 27.8065 91.6716 29.3429 91.6716 31.9826V35.8243C91.6716 38.4635 89.9504 40 87.2785 40C84.5888 40 82.885 38.4635 82.885 35.8243ZM90.703 35.8744V31.9321C90.703 29.9775 89.433 28.7084 87.2785 28.7084C85.1241 28.7084 83.855 29.9775 83.855 31.9321V35.8744C83.855 37.829 85.1241 39.098 87.2785 39.098C89.433 39.098 90.703 37.829 90.703 35.8744ZM94.5433 28.0564H101.71V28.9257H95.5293V33.486H100.907V34.354H95.5293V39.75H94.5433V28.0564ZM110.379 28.9257H106.687V28.0564H115.039V28.9257H111.348V39.75H110.379V28.9257ZM117.06 28.0564H124.159V28.9257H118.028V33.418H123.374V34.2874H118.028V38.8816H124.177V39.75H117.06V28.0564ZM126.38 35.7912V32.0162C126.38 29.359 128.033 27.8065 130.79 27.8065C133.028 27.8065 134.998 29.0925 134.998 31.7148V31.8815H134.031V31.7148C134.031 29.6931 132.41 28.7084 130.79 28.7084C128.601 28.7084 127.349 29.9104 127.349 31.9482V35.8578C127.349 37.8956 128.601 39.0976 130.79 39.0976C132.41 39.0976 134.031 38.1129 134.031 36.0912V35.9245H134.998V36.0912C134.998 38.7144 133.028 39.9995 130.79 39.9995C128.033 39.9995 126.38 38.447 126.38 35.7912ZM137.704 28.0564H138.673V33.4359H145.103V28.0564H146.073V39.75H145.103V34.3039H138.673V39.75H137.704V28.0564ZM149.28 28.0564H150.181L156.679 37.9457V28.0564H157.665V39.75H156.763L150.248 29.8782V39.75H149.28V28.0564ZM160.538 35.8243V31.9826C160.538 29.3429 162.242 27.8065 164.931 27.8065C167.604 27.8065 169.325 29.3429 169.325 31.9826V35.8243C169.325 38.4635 167.604 40 164.931 40C162.242 40 160.538 38.4635 160.538 35.8243ZM168.355 35.8744V31.9321C168.355 29.9775 167.086 28.7084 164.931 28.7084C162.777 28.7084 161.507 29.9775 161.507 31.9321V35.8744C161.507 37.829 162.777 39.098 164.931 39.098C167.086 39.098 168.355 37.829 168.355 35.8744ZM172.197 28.0564H173.165V38.8816H179.463V39.75H172.197V28.0564ZM180.833 35.8243V31.9826C180.833 29.3429 182.536 27.8065 185.225 27.8065C187.898 27.8065 189.619 29.3429 189.619 31.9826V35.8243C189.619 38.4635 187.898 40 185.225 40C182.536 40 180.833 38.4635 180.833 35.8243ZM188.649 35.8744V31.9321C188.649 29.9775 187.38 28.7084 185.225 28.7084C183.071 28.7084 181.801 29.9775 181.801 31.9321V35.8744C181.801 37.829 183.071 39.098 185.225 39.098C187.38 39.098 188.649 37.829 188.649 35.8744ZM192.156 35.7912V32.0162C192.156 29.359 193.877 27.8065 196.667 27.8065C198.905 27.8065 200.926 29.0751 200.96 31.6642V31.7988H199.974V31.6642C199.958 29.6931 198.305 28.7084 196.65 28.7084C194.445 28.7084 193.126 29.9104 193.126 31.9482V35.7912C193.126 37.829 194.445 39.0976 196.6 39.0976C198.186 39.0976 199.29 38.3463 199.974 36.8429V34.7886H196.984V33.9694H200.96V39.7496H200.375L200.124 37.9797C199.39 39.2648 198.254 39.9995 196.549 39.9995C193.844 39.9995 192.156 38.413 192.156 35.7912ZM206.939 35.1052L202.646 28.3905V28.0564H203.599L207.423 34.1867L211.316 28.0564H212.201V28.3905L207.908 35.0726V39.7496H206.939V35.1052Z"
          fill="white"
        />
      </Svg>

      <View style={styles.circleFront}></View>

      <View style={styles.photoContainer}>
        {imageDataUrls[String(student.id)] ? (
          <Image style={styles.photo} src={imageDataUrls[String(student.id)]!} />
        ) : (
          <View
            style={{
              width: "100%",
              height: "100%",
              backgroundColor: "#C3C3E5",
              borderRadius: 200,
            }}
          />
        )}
      </View>
      <View>
        <Text style={styles.studentLabel}>STUDENT</Text>
        <Text style={styles.studentName}>{student.name}</Text>
      </View>
    </View>
  );

  const renderCardBack = (student: Student) => (
    <View style={styles.cardBack}>
      <Svg width="100%" height="auto" viewBox="0 0 213 40" fill="none">
        <Path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M0 19.03V0.430527H3.16853V8.34038H10.8753V0.430527H14.0829V19.03H10.8753V11.1207H3.16853V19.03H0ZM16.978 19.03V17.9728L23.6285 0.430527H26.7579L33.4079 17.9728V19.03H30.2784L28.6354 14.4486H21.5939L19.9513 19.03H16.978ZM22.5721 11.786H27.6576L25.1539 4.69858L22.5721 11.786ZM36.3026 19.03V0.430527H44.2828C47.8818 0.430527 49.8769 2.54503 49.8769 6.14777C49.8769 8.61423 48.7424 10.572 46.5912 11.5121L50.0726 17.9728V19.03H46.9431L43.1093 11.8645H39.5102V19.03H36.3026ZM39.5102 9.16284H43.7351C45.691 9.16284 46.6693 8.1837 46.6693 6.18682C46.6693 4.18995 45.691 3.21081 43.7351 3.21081H39.5102V9.16284ZM53.8283 19.0691V0.430527H61.6523C64.9775 0.430527 66.9725 2.1145 66.9725 5.44293C66.9725 7.32218 66.2291 8.61423 64.7427 9.39763C66.6987 10.1025 67.6764 11.5902 67.6764 13.9005C67.6764 17.268 65.7205 19.0691 62.3562 19.0691H53.8283ZM57.0359 16.2498H61.8871C63.6473 16.2498 64.547 15.3887 64.547 13.7047C64.547 11.9427 63.6864 11.0811 61.8871 11.0811H57.0359V16.2498ZM57.0359 8.41849H61.1436C62.9039 8.41849 63.7645 7.55697 63.7645 5.79535C63.7645 4.07232 62.9039 3.21081 61.1436 3.21081H57.0359V8.41849ZM70.884 6.73497C70.884 2.58454 73.7006 0.0390553 78.1993 0.0390553C82.698 0.0390553 85.5146 2.54503 85.5146 6.73497V12.7261C85.5146 16.9155 82.698 19.4215 78.1993 19.4215C73.7006 19.4215 70.884 16.9155 70.884 12.7261V6.73497ZM82.307 6.57829C82.307 4.46379 80.8597 2.97602 78.1993 2.97602C75.5394 2.97602 74.0921 4.50285 74.0921 6.57829V12.9218C74.0921 15.0363 75.5394 16.5241 78.1993 16.5241C80.8597 16.5241 82.307 14.9968 82.307 12.9218V6.57829ZM100.262 0.430527H103.509V12.9604C103.509 14.9968 102.884 16.5631 101.593 17.6985C100.341 18.8339 98.6197 19.382 96.468 19.382C94.3163 19.382 92.5951 18.8339 91.3044 17.6985C90.0524 16.5631 89.4266 14.9577 89.4266 12.9604V0.430527H92.5951V13.1171C92.5951 15.0749 93.9643 16.4846 96.429 16.4846C98.8936 16.4846 100.262 15.0358 100.262 13.1171V0.430527ZM108.047 19.03V0.430527H116.027C119.627 0.430527 121.622 2.54503 121.622 6.14777C121.622 8.61423 120.487 10.572 118.375 11.5121L121.856 17.9728V19.03H118.727L114.893 11.8645H111.216V19.03H108.047ZM111.216 9.16284H115.442C117.397 9.16284 118.375 8.1837 118.375 6.18682C118.375 4.18995 117.397 3.21081 115.442 3.21081H111.216V9.16284ZM133.592 17.7771C132.223 16.6417 131.559 15.0754 131.559 12.9999H134.727C134.727 13.8614 134.962 14.5663 135.431 15.1144C136.37 16.2107 137.583 16.485 138.951 16.485C141.182 16.485 142.434 15.4668 142.434 14.0572C142.434 13.3914 142.16 12.8823 141.573 12.5299C140.986 12.1774 139.929 11.6688 138.405 11.0811L138.169 11.003L137.74 10.8464C135.704 10.0634 134.257 9.31906 133.396 8.61423C132.536 7.87034 132.106 6.81309 132.106 5.40342C132.106 3.79802 132.693 2.46692 133.866 1.48778C135.079 0.509098 136.722 0 138.796 0C142.981 0 145.681 1.99688 145.681 6.26493H142.511C142.511 3.91564 140.908 2.89745 138.756 2.89745C136.644 2.89745 135.313 3.83753 135.313 5.16863C135.313 5.87346 135.587 6.46067 136.135 6.77403C136.684 7.12645 137.74 7.55697 139.304 8.14464L139.695 8.26181C140.713 8.61423 141.495 8.92759 142.081 9.20189C142.708 9.47574 143.294 9.82816 143.96 10.2591C145.25 11.1202 145.836 12.2951 145.836 13.8614C145.836 17.1113 143.333 19.3434 138.796 19.3434C136.722 19.4215 135.001 18.8734 133.592 17.7771ZM149.788 19.03V0.430527H157.846C161.132 0.430527 163.089 2.6236 163.089 6.14777C163.089 9.67148 161.132 11.8645 157.846 11.8645H152.995V19.03H149.788ZM152.995 9.08427H157.298C158.746 9.08427 159.841 8.06607 159.841 6.14777C159.841 4.26806 158.746 3.21081 157.298 3.21081H152.995V9.08427ZM163.48 19.03V17.9728L170.13 0.430527H173.26L179.91 17.9728V19.03H176.78L175.138 14.4486H168.135L166.453 19.03H163.48ZM169.035 11.786H174.12L171.616 4.69858L169.035 11.786ZM182.256 12.7256V6.73452C182.256 2.46646 184.878 0.0390553 189.494 0.0390553C191.449 0.0390553 193.093 0.587208 194.384 1.64446C195.675 2.74076 196.339 4.34617 196.339 6.46067V6.73452H193.17V6.46067C193.17 5.32485 192.779 4.42428 192.036 3.87613C191.254 3.24986 190.433 2.97556 189.494 2.97556C186.795 2.97556 185.504 4.2676 185.504 6.53878V12.9604C185.504 15.2316 186.834 16.5236 189.494 16.5236C190.433 16.5236 191.254 16.2498 192.036 15.6626C192.819 15.0358 193.17 14.1743 193.17 13.039V12.7647H196.339V13.039C196.339 15.1535 195.675 16.7589 194.384 17.8552C193.093 18.9515 191.449 19.4606 189.494 19.4606C184.917 19.4215 182.256 16.9937 182.256 12.7256ZM200.33 19.03V0.430527H212.223V3.21081H203.498V8.37943H211.009V11.0421H203.498V16.2498H212.261V19.03H200.33ZM128.116 19.03C128.116 19.4606 127.764 19.8525 127.294 19.8525C126.864 19.8525 126.473 19.5001 126.473 19.03C126.473 18.5995 126.825 18.2076 127.294 18.2076C127.764 18.2471 128.116 18.5995 128.116 19.03ZM1.00579 28.0564V39.75H0.0385958V28.0564H1.00579ZM4.2143 28.0564H5.11625L11.6137 37.9457V28.0564H12.5988V39.75H11.6968L5.18149 29.8782V39.75H4.2143V28.0564ZM15.0533 35.9585H16.0233C16.0233 38.2802 17.9264 39.098 19.5635 39.098C21.5356 39.098 22.5207 38.1295 22.5207 36.893C22.5207 35.7071 21.6348 35.1231 19.8649 34.4546L18.5609 33.9699C16.4731 33.1846 15.4553 32.5501 15.4553 30.8794C15.4553 29.0751 16.8912 27.8065 19.3296 27.8065C21.6514 27.8065 23.4892 28.9423 23.4892 31.7488H22.5032C22.5032 29.5097 20.9667 28.7084 19.3135 28.7084C17.5092 28.7084 16.4225 29.5929 16.4225 30.8128C16.4225 31.9987 17.1412 32.4835 18.8123 33.0854L20.0648 33.5527C22.0534 34.2878 23.5393 35.0064 23.5393 36.8429C23.5393 38.6142 22.2193 40 19.513 40C17.2418 40 15.0533 38.7976 15.0533 35.9585ZM28.7672 28.9257H25.0763V28.0564H33.4281V28.9257H29.7372V39.75H28.7672V28.9257ZM36.4179 28.0564V39.75H35.448V28.0564H36.4179ZM42.1462 28.9257H38.4552V28.0564H46.8071V28.9257H43.1162V39.75H42.1462V28.9257ZM48.6615 35.941V28.0564H49.6287V35.941C49.6287 37.9461 50.9001 39.098 52.8538 39.098C54.7923 39.098 56.0609 37.9801 56.0609 35.941V28.0564H57.046V35.941C57.046 38.5981 55.1916 40 52.8538 40C50.4981 40 48.6615 38.6308 48.6615 35.941ZM62.591 28.9257H58.9V28.0564H67.2519V28.9257H63.5609V39.75H62.591V28.9257ZM69.2722 28.0564H76.3715V28.9257H70.2408V33.418H75.5863V34.2874H70.2408V38.8816H76.3876V39.75H69.2722V28.0564ZM82.885 35.8243V31.9826C82.885 29.3429 84.5888 27.8065 87.2785 27.8065C89.9504 27.8065 91.6716 29.3429 91.6716 31.9826V35.8243C91.6716 38.4635 89.9504 40 87.2785 40C84.5888 40 82.885 38.4635 82.885 35.8243ZM90.703 35.8744V31.9321C90.703 29.9775 89.433 28.7084 87.2785 28.7084C85.1241 28.7084 83.855 29.9775 83.855 31.9321V35.8744C83.855 37.829 85.1241 39.098 87.2785 39.098C89.433 39.098 90.703 37.829 90.703 35.8744ZM94.5433 28.0564H101.71V28.9257H95.5293V33.486H100.907V34.354H95.5293V39.75H94.5433V28.0564ZM110.379 28.9257H106.687V28.0564H115.039V28.9257H111.348V39.75H110.379V28.9257ZM117.06 28.0564H124.159V28.9257H118.028V33.418H123.374V34.2874H118.028V38.8816H124.177V39.75H117.06V28.0564ZM126.38 35.7912V32.0162C126.38 29.359 128.033 27.8065 130.79 27.8065C133.028 27.8065 134.998 29.0925 134.998 31.7148V31.8815H134.031V31.7148C134.031 29.6931 132.41 28.7084 130.79 28.7084C128.601 28.7084 127.349 29.9104 127.349 31.9482V35.8578C127.349 37.8956 128.601 39.0976 130.79 39.0976C132.41 39.0976 134.031 38.1129 134.031 36.0912V35.9245H134.998V36.0912C134.998 38.7144 133.028 39.9995 130.79 39.9995C128.033 39.9995 126.38 38.447 126.38 35.7912ZM137.704 28.0564H138.673V33.4359H145.103V28.0564H146.073V39.75H145.103V34.3039H138.673V39.75H137.704V28.0564ZM149.28 28.0564H150.181L156.679 37.9457V28.0564H157.665V39.75H156.763L150.248 29.8782V39.75H149.28V28.0564ZM160.538 35.8243V31.9826C160.538 29.3429 162.242 27.8065 164.931 27.8065C167.604 27.8065 169.325 29.3429 169.325 31.9826V35.8243C169.325 38.4635 167.604 40 164.931 40C162.242 40 160.538 38.4635 160.538 35.8243ZM168.355 35.8744V31.9321C168.355 29.9775 167.086 28.7084 164.931 28.7084C162.777 28.7084 161.507 29.9775 161.507 31.9321V35.8744C161.507 37.829 162.777 39.098 164.931 39.098C167.086 39.098 168.355 37.829 168.355 35.8744ZM172.197 28.0564H173.165V38.8816H179.463V39.75H172.197V28.0564ZM180.833 35.8243V31.9826C180.833 29.3429 182.536 27.8065 185.225 27.8065C187.898 27.8065 189.619 29.3429 189.619 31.9826V35.8243C189.619 38.4635 187.898 40 185.225 40C182.536 40 180.833 38.4635 180.833 35.8243ZM188.649 35.8744V31.9321C188.649 29.9775 187.38 28.7084 185.225 28.7084C183.071 28.7084 181.801 29.9775 181.801 31.9321V35.8744C181.801 37.829 183.071 39.098 185.225 39.098C187.38 39.098 188.649 37.829 188.649 35.8744ZM192.156 35.7912V32.0162C192.156 29.359 193.877 27.8065 196.667 27.8065C198.905 27.8065 200.926 29.0751 200.96 31.6642V31.7988H199.974V31.6642C199.958 29.6931 198.305 28.7084 196.65 28.7084C194.445 28.7084 193.126 29.9104 193.126 31.9482V35.7912C193.126 37.829 194.445 39.0976 196.6 39.0976C198.186 39.0976 199.29 38.3463 199.974 36.8429V34.7886H196.984V33.9694H200.96V39.7496H200.375L200.124 37.9797C199.39 39.2648 198.254 39.9995 196.549 39.9995C193.844 39.9995 192.156 38.413 192.156 35.7912ZM206.939 35.1052L202.646 28.3905V28.0564H203.599L207.423 34.1867L211.316 28.0564H212.201V28.3905L207.908 35.0726V39.7496H206.939V35.1052Z"
          fill="white"
        />
      </Svg>

      <View style={styles.circleBack}></View>

      <View style={styles.backContent}>
        <View style={styles.infoSection}>
          <Text style={styles.infoLabel}>PROGRAMME</Text>
          <Text style={styles.infoText}>
            {student.degree} of {student.programme}
          </Text>
        </View>

        <View style={styles.infoSection}>
          <Text style={styles.infoLabel}>ID NUMBER</Text>
          <Text style={styles.infoText}>{student.idNumber}</Text>
        </View>

        <View style={styles.infoSection}>
          <Text style={styles.infoLabel}>EXPIRATION DATE</Text>
          <Text style={styles.infoText}>{student.expirationDate}</Text>
        </View>

        <View>
          <Text style={styles.legalText}>
            This card is the property of Harbour.Space Institute of Technology
            and it&apos;s not transferable. Any alteration or unauthorized use
            of this card will subject the holder to applicable Faculty/
            Staff/Student disciplinary polices. Possession of this card
            indicates a present or past affiliation status can be determined
            by calling Harbour.Space during business hours.
          </Text>
          <Text style={styles.contactText}>
            If found please email hello@harbour.space
          </Text>
        </View>
      </View>
    </View>
  );

  return (
    <Document>
      {students.map((student) => (
        <React.Fragment key={student.id}>
          {/* Front of the card */}
          <Page size={[153.01, 242.65]} style={styles.page}>
            {renderCardFront(student)}
          </Page>
          
          {/* Back of the card */}
          <Page size={[153.01, 242.65]} style={styles.page}>
            {renderCardBack(student)}
          </Page>
        </React.Fragment>
      ))}
    </Document>
  );
};

export default BulkStudentIDCards;